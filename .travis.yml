language: java
jdk:
  - openjdk8

sudo: true

#branches:
#  only:
#    - develop

services: mongodb

before_install:
# - cd backend
 - chmod +x gradlew

cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    - $HOME/.m2

script:
#  - cd backend
  - ./gradlew clean build

after_success:
  - ./gradlew Logdata-Server-Api:jacocoTestReport coveralls
  - ./gradlew Logdata-Server-Common:jacocoTestReport coveralls
  - ./gradlew Logdata-Server-Web:jacocoTestReport coveralls

# CI 실행 완료시 메일로 알람
notifications:
  email:
    recipients:
      - haioer@naver.com